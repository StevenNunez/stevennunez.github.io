<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1'/>
  <title>Hostile Developer<%= ' - ' + current_article.title unless current_article.nil? %></title>
  <%= stylesheet_link_tag 'application' %>
  <%= feed_tag :atom, "#{blog.options.prefix.to_s}/feed.xml", title: "Atom Feed" %>
</head>
<body>
<section>
  <header>
    <h1>Hostile Developer</h1>

    <h3>Rants and raves from a madman</h3>
  </header>
</section>

<div id="container">
  <div id="main" role="main">
    <h1 class="article-title"><%= current_article.title if current_article %></h1>
    <%= yield %>
  </div>

  <aside>
    <h2>Recent Articles</h2>
    <ol class="articles">
      <% blog.articles[0...10].each do |article| %>
          <li><%= link_to article.title, article %>
            <span class="article-date"><%= article.date.strftime('%b %e') %></span></li>
      <% end %>
    </ol>

    <h2>Tags</h2>
    <ol class="tags">
      <% blog.tags.sort.each do |tag, articles| %>
          <li><%= link_to tag, tag_path(tag) %> (<%= articles.size %>)</a></li>
      <% end %>
    </ol>

    <h2>By Month</h2>
    <ol>
      <% blog.articles.group_by { |a| [a.date.month, a.date.year] }.each do |(month, year), articles| %>
          <li><%= link_to Date.new(year, month).strftime("%B %Y"), blog_month_path(year, month) %> (<%= articles.size %>
            )</a></li>
      <% end %>
    </ol>
  </aside>
</div>
</body>
</html>
